# Lab 500
## Part 1

## Update Blank Page

The first thing we want to do is learn how to update a black page in APEX. Navigate to the APEX App Builder and begin customizing your Tracking Map Page. Here you can customize your app in a low code environment. 

##### Create Two Regions, Search, and Map
**You currently have no regions. You want to create a region for the ability to "Search" and one for "Map".**
Under **Page 7: Tracking Map"**:, click on the section titled "Regions". Right-click on Region and select **"Create New Region".** You will see "Content Body" has been created

1. To the far right of the page, change the title under identification to "Search". Then click "Save" at the top right of the screen.

<!--_(Here we will need to add screen shots of the steps and how to navigate the side bar.)_**-->
2. Repeat these steps but title the new region "Map" and save.


<!--**_(Need to show how to change title and save)_**-->

##### Add Search Field Dynamic Action that Refreshes Map


## Part 2

##### Add Map Plug-in to Map Region

**Step 1:**
  Now it is time to add the Google Maps plug-in that you previously downloaded to the map region. 

1. Navigate to "App Builder" at the top left of your screen. And select "Import". 
2. From import find the file "abc" and open it. 
<!--**_(screenshot detailing where to find the app builder and import button)_**-->
3. Select File Type "Plug-in". Click "Next" to verify the file has been imported successfully.
4. After you verify, click "Next" again. Make sure the information matches the picture below **_(screenshot of verification message)_** and continue on.
5. On this last part titled "Component Settings" you will need to give your Google API Key. Copy & paste your Google API Key you got earlier in the lab. These are unique to each person. Select "Apply Changes". Your Map Plug-in should now be uploaded in the application.

<!--**_(screenshot of button "apply changes")_**--> **you might not need this**

**Step 2:**
Now that you have uploaded your plugin we need to add it to your application. You can also leverage the plug in in any part of the application when you are ready.

1. Navigate back to the Tracking Map Page and you can now begin to build out your tracking map page. Click on the **"Search by Load Number** region you created in Part 2 **edit this** of this lab, add a new Page Item. Call this new Item "LoadNumber".

**_(screenshot of adding new page item called "LoadNumber")_**

2. Next we need to add our plugin. Select "Map" and Navigate to the right side of the screen. 
    1. Under "Identification" where you previously titled the item **"Map"**, change **"Type"** to the plugin ("JK64 REPORT GOOGLE") you just imported. 
    2. Under "Source" for "Location" select "Local Database"
    3. For "Type" select "SQL Query".

**_(screenshot of this side panel filled out with all the correct information)_**

3. In APEX, you do not have to write the query yourself. Use the **"Query Builder Tool"** to select the columns from the table that you need. The Query Builder Tool  will help you search and filter database objects, select objects and columns, create relationships between objects, view formatted query results, and save queries with little or no SQL knowledge. For more information about the Query Builder Tool (https://docs.oracle.com/en/database/oracle/application-express/20.1/aeutl/using-query-builder.html#GUID-1F074D68-9C9E-43AD-B5CA-2A978C8C99EA "click here"). 
4. Click on the "Tracking Data" table. Select "Latitude", "Longitude", "Carrier Name", "Description" and "Carrier Load Number".

5. Add a condition to Carrier Load Number. "=:P7_LOADNUMBER" for the load number variable. Select Return and you will see your SQL Query. It should look like this **_(screenshot of what the SQL Query should look like)_**.

We need to create one more part of the SQL Query. Return to the Query bulder by clicking the Hammer Icon. Select "Latitude", "Longitude", "Carrier Load Number", and "Description". Add a condition to Carrier Load Number. "=:P7_LOADNUMBER" for the load number variable. Select Return and you will see your SQL Query. It should look like this **_(screenshot of what the SQL Query should look like)_**.

Then "Submit" the new Page Item.

Lastly, create a button with a dynamic action so that once the load number is submitted, we get the map to refresh and display coordinates. Change item "Load Number" to a number field. Right click and create button.

**_(screenshot of changing number field)_**

Create Button and title it "Submit". Edit "Column" to "2". Edit "Column Span" to "1". And give it a dynamic action. This Dynamic Action will on a certain chained event in the model will initiate the load number to be searched and plotted on the map. Title a dynamic action. Title it "SubmitLoadNumber". Select "Show" change it to "Refresh" under Identification -> Action. Change Affected Elements -> Selection Type -> Region and Affected Elements -> Region -> Map

**_(screenshot of titling a dynamic action)_**

Save. Now we can check out application and see that we have a search field and a map.

##### Test App

Now we want to test the Application. Enter a load number and see if it plots. Enter "abc" and you should get this result **_(screenshot of result)_**.

Congratulations! You now know how to build a full delpoyed application in the cloud with Oracle Apex and the Google Maps API.
